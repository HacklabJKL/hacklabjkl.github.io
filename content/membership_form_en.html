<form action="https://formspree.io/hacklab-jkl-hallitus@googlegroups.com" method="POST" class="join" autocomplete="on">
<input type="hidden" id="subject" name="_subject" value="Hacklab Jyväskylä
membership application" />
<input type="hidden" name="_next" value="http://jyvaskyla.hacklab.fi/en/pages/member_thanks.html" />
<input type="hidden" name="languages" id="language" />
<div>
<label class="leftlabel" for="name">Name:</label>
<input type="text" id="name" name="name" required autocomplete="name">
</div><div>
<label class="leftlabel" for="email">Email:</label>
<input type="email" id="email" name="email" required autocomplete="email">
</div><div>
<label class="leftlabel" for="city">Hometown:</label>
<input type="text" id="city" name="city" required autocomplete="address-level2" value="Jyväskylä">
</div><div>
<label class="leftlabel" for="irc">IRC nickname (if you have one):</label>
<input type="text" name="irc" id="irc" autocomplete="nickname">
</div>
<div class="control-container">
    <div>
    <input type="radio" value="discount" name="membership" id="discount" accesskey="L" />
    <label for="discount">Discounted membership 5€/month</label>
    </div>
    <div>
    <input type="radio" value="normal" name="membership" id="normal" accesskey="P" checked="checked"/>
    <label for="normal">Basic membership 10€/month</label>
    </div>
    <div>
    <input type="radio" value="key" name="membership" id="key" accesskey="A" />
    <label for="key">Key membership 20€/month</label>
    </div>
</div>
<div class="control-container" id="discount-motivation-div">
    <label for="discount-motivation" class="block">Application for the
        discount:
    </label>
    <textarea id="discount-motivation" name="discount-motivation" maxlength="1000" cols="65" rows="10"></textarea>
</div>
<input id="liity" type="submit" value="Apply for membership">
</form>
<script type="text/javascript">
    document.getElementById("language").value = navigator.languages;
    document.getElementById("name").onchange = function() {
        document.getElementById("subject").value = "Hacklab Jyväskylä membership application / "
                                                    + document.getElementById("name").value;
    }

    function showHideDiscountMotivation() {
        document.getElementById("discount-motivation-div").style.display =
            document.getElementById("discount").checked ? "block" : "none";
    }
    showHideDiscountMotivation();

    document.getElementsByName("membership").forEach(function(elem) {
        elem.addEventListener("change", showHideDiscountMotivation);
    });
</script>
